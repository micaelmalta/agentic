# Developer Workflow Diagram

Visual representation of the complete developer workflow orchestration.

---

## High-Level Flow

```
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                           DEVELOPER WORKFLOW (ORCHESTRATOR)                              │
│                                                                                          │
│  Trigger: /workflow, "implement feature", "fix bug", "refactor"                         │
└─────────────────────────────────────────────────────────────────────────────────────────┘
                                          │
                                          ▼
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│ PHASE 1: PLAN                                                            Skills: para   │
│                                                                         architect (opt) │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                          │
│   ┌──────────────┐    ┌──────────────┐    ┌──────────────┐    ┌──────────────┐          │
│   │   Explore    │    │   Explore    │    │    Bash      │    │   Explore    │          │
│   │  (affected   │    │  (patterns)  │    │ (git history)│    │   (tests)    │          │
│   │   files)     │    │              │    │              │    │              │          │
│   └──────┬───────┘    └──────┬───────┘    └──────┬───────┘    └──────┬───────┘          │
│          │                   │                   │                   │                   │
│          └───────────────────┴───────────────────┴───────────────────┘                   │
│                                          │                                               │
│                                          ▼                                               │
│                        ┌─────────────────────────────────┐                               │
│                        │  Create Plan Document           │                               │
│                        │  context/plans/YYYY-MM-DD-*.md  │                               │
│                        │  (use tech_proposal_template    │                               │
│                        │   for architecture changes)     │                               │
│                        └─────────────────────────────────┘                               │
│                                                                                          │
└─────────────────────────────────────────────────────────────────────────────────────────┘
                                          │
                                          ▼
                              ┌───────────────────────┐
                              │   USER APPROVAL GATE  │◄──── Plan rejected? Revise
                              └───────────────────────┘
                                          │ Approved
                                          ▼
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│ PHASE 2: BRANCH                                                                          │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│   git checkout -b feature/<name> or fix/<name>                                          │
└─────────────────────────────────────────────────────────────────────────────────────────┘
                                          │
                                          ▼
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│ PHASE 3: EXECUTE                                                      Skills: developer │
│                                                                               debugging  │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                          │
│   ┌─────────────────────────────────────────────────────────────────────────────────┐   │
│   │                        TDD: RED-GREEN-REFACTOR CYCLE                            │   │
│   │                                                                                  │   │
│   │   ┌─────────┐         ┌─────────┐         ┌─────────┐         ┌─────────┐       │   │
│   │   │  RED    │────────▶│  RUN    │────────▶│  GREEN  │────────▶│  RUN    │       │   │
│   │   │ Write   │         │  TEST   │         │ Write   │         │  TEST   │       │   │
│   │   │ failing │         │ (fails) │         │ minimum │         │(passes) │       │   │
│   │   │ test    │         │         │         │ code    │         │         │       │   │
│   │   └─────────┘         └─────────┘         └─────────┘         └────┬────┘       │   │
│   │                                                                    │            │   │
│   │                                                                    ▼            │   │
│   │                                                             ┌─────────┐         │   │
│   │         ◄───────────────────────────────────────────────────│REFACTOR │         │   │
│   │         │            (repeat for each behavior)             │ Clean   │         │   │
│   │         │                                                   │ up code │         │   │
│   │         │                                                   └─────────┘         │   │
│   │         ▼                                                                       │   │
│   │   ┌─────────────────────────────────────────────────────────────────────────┐   │   │
│   │   │ FEATURE: Tests define behavior first                                    │   │   │
│   │   │ BUG FIX: Write reproduction test first (debugging skill)                │   │   │
│   │   │ REFACTOR: Ensure tests exist, then modify                               │   │   │
│   │   └─────────────────────────────────────────────────────────────────────────┘   │   │
│   └─────────────────────────────────────────────────────────────────────────────────┘   │
│                                                                                          │
│   For large codebases (100+ files): Use RLM skill for parallel implementation           │
│                                                                                          │
└─────────────────────────────────────────────────────────────────────────────────────────┘
                                          │
                                          ▼
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│ PHASE 4: TESTING                                                       Skills: testing  │
│                                                                             Playwright  │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                          │
│   ┌──────────────┐    ┌──────────────┐    ┌──────────────┐    ┌──────────────┐          │
│   │    Bash      │    │    Bash      │    │   General    │    │  Playwright  │          │
│   │  Run unit    │    │  Run build   │    │   purpose    │    │  MCP (E2E)   │          │
│   │   tests      │    │              │    │  Edge cases  │    │  (if UI)     │          │
│   └──────┬───────┘    └──────┬───────┘    └──────┬───────┘    └──────┬───────┘          │
│          │                   │                   │                   │                   │
│          └───────────────────┴───────────────────┴───────────────────┘                   │
│                                          │                                               │
│                                          ▼                                               │
│                         ┌────────────────────────────────┐                               │
│                         │  All tests pass?               │                               │
│                         │  Build succeeds?               │                               │
│                         └────────────────────────────────┘                               │
│                                          │                                               │
└─────────────────────────────────────────────────────────────────────────────────────────┘
                                          │
                              ┌───────────────────────┐
                              │   TESTS PASS GATE     │◄──── Tests fail? Fix and retry
                              └───────────────────────┘
                                          │ All pass
                                          ▼
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│ PHASE 5: VALIDATION                                            Skills: code-reviewer    │
│                                                                       security-reviewer │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                          │
│   ┌──────────────┐    ┌──────────────┐    ┌──────────────┐    ┌──────────────┐          │
│   │    Bash      │    │    Bash      │    │   General    │    │   General    │          │
│   │   Linter     │    │    Build     │    │   purpose    │    │   purpose    │          │
│   │              │    │              │    │ Code Review  │    │Security Rev  │          │
│   └──────┬───────┘    └──────┬───────┘    └──────┬───────┘    └──────┬───────┘          │
│          │                   │                   │                   │                   │
│          └───────────────────┴───────────────────┴───────────────────┘                   │
│                                          │                                               │
└─────────────────────────────────────────────────────────────────────────────────────────┘
                                          │
                              ┌───────────────────────┐
                              │  VALIDATION GATE      │◄──── Issues? Fix and retry
                              └───────────────────────┘
                                          │ All pass
                                          ▼
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│ PHASE 6: COMMIT                                                    Skills: git-commits  │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│   git add <files> && git commit -m "<type>(<scope>): <summary>" && git push -u origin   │
└─────────────────────────────────────────────────────────────────────────────────────────┘
                                          │
                                          ▼
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│ PHASE 7: PR                                                                              │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│   gh pr create --title "..." --body "## Summary\n## Changes\n## Test Plan"              │
│   Link to Jira ticket (Atlassian MCP)                                                   │
└─────────────────────────────────────────────────────────────────────────────────────────┘
                                          │
                                          ▼
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│ PHASE 8: MONITOR & SUMMARIZE                                      Skills: para          │
│                                                                         documentation   │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│   Monitor CI, address reviews, merge                                                    │
│   /summarize → context/summaries/YYYY-MM-DD-*.md                                        │
│   /archive when complete                                                                │
└─────────────────────────────────────────────────────────────────────────────────────────┘
                                          │
                                          ▼
                              ┌───────────────────────┐
                              │      COMPLETE         │
                              │  - Merged PR URL      │
                              │  - Summary document   │
                              │  - Tests confirmed    │
                              └───────────────────────┘
```

---

## Skill Dependencies

```
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                                    SKILL DEPENDENCIES                                    │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                          │
│                                    ┌──────────┐                                          │
│                                    │ workflow │ (orchestrator)                           │
│                                    └────┬─────┘                                          │
│                                         │                                                │
│          ┌──────────────────────────────┼──────────────────────────────┐                │
│          │                              │                              │                │
│          ▼                              ▼                              ▼                │
│    ┌──────────┐                  ┌──────────┐                   ┌──────────┐            │
│    │   para   │                  │developer │                   │ testing  │            │
│    │(planning)│                  │  (TDD)   │                   │(validate)│            │
│    └──────────┘                  └────┬─────┘                   └────┬─────┘            │
│          │                            │                              │                  │
│          ▼                            │                              ▼                  │
│    ┌──────────┐                       │                        ┌──────────┐            │
│    │architect │                       │                        │Playwright│            │
│    │(tech spec)                       │                        │  (E2E)   │            │
│    └──────────┘                       │                        └──────────┘            │
│                                       │                                                 │
│                    ┌──────────────────┼──────────────────┐                             │
│                    │                  │                  │                             │
│                    ▼                  ▼                  ▼                             │
│              ┌──────────┐      ┌──────────┐      ┌──────────┐                          │
│              │debugging │      │refactoring│     │git-commits│                         │
│              │(bug+test)│      │(safe edit)│     │ (commit)  │                         │
│              └──────────┘      └──────────┘      └──────────┘                          │
│                                                                                          │
│    ┌──────────┐    ┌──────────┐    ┌──────────┐    ┌──────────┐    ┌──────────┐        │
│    │  code-   │    │security- │    │  docs    │    │   deps   │    │   perf   │        │
│    │ reviewer │    │ reviewer │    │          │    │          │    │          │        │
│    └──────────┘    └──────────┘    └──────────┘    └──────────┘    └──────────┘        │
│                                                                                          │
│    ┌──────────┐    ┌──────────┐                                                         │
│    │  ci-cd   │    │   rlm    │ (for 100+ file codebases)                               │
│    └──────────┘    └──────────┘                                                         │
│                                                                                          │
└─────────────────────────────────────────────────────────────────────────────────────────┘
```

---

## MCP Integrations

```
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                              MCP INTEGRATIONS                                            │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                          │
│   ┌────────────┐     ┌────────────┐     ┌────────────┐                                  │
│   │ Atlassian  │     │  Datadog   │     │ Playwright │                                  │
│   │            │     │            │     │            │                                  │
│   │ • Jira     │     │ • Logs     │     │ • E2E      │                                  │
│   │ • Conflu.  │     │ • Metrics  │     │ • UI tests │                                  │
│   │            │     │ • Traces   │     │ • Visual   │                                  │
│   └─────┬──────┘     └─────┬──────┘     └─────┬──────┘                                  │
│         │                  │                  │                                          │
│         ▼                  ▼                  ▼                                          │
│   Plan, PR phases    Debugging, CI/CD    Testing (mandatory                             │
│                                          if UI exists)                                   │
│                                                                                          │
└─────────────────────────────────────────────────────────────────────────────────────────┘
```

---

## TDD Cycle Detail

```
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                              TDD: RED-GREEN-REFACTOR                                     │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                          │
│                              ┌─────────────────┐                                         │
│                              │                 │                                         │
│                              │    1. RED       │                                         │
│                              │  Write failing  │                                         │
│                              │     test        │                                         │
│                              │                 │                                         │
│                              └────────┬────────┘                                         │
│                                       │                                                  │
│                                       ▼                                                  │
│                              ┌─────────────────┐                                         │
│                              │   Run test      │                                         │
│                              │   (must FAIL)   │                                         │
│                              └────────┬────────┘                                         │
│                                       │                                                  │
│                                       ▼                                                  │
│                              ┌─────────────────┐                                         │
│                              │                 │                                         │
│                              │   2. GREEN      │                                         │
│                              │  Write minimum  │                                         │
│                              │  code to pass   │                                         │
│                              │                 │                                         │
│                              └────────┬────────┘                                         │
│                                       │                                                  │
│                                       ▼                                                  │
│                              ┌─────────────────┐                                         │
│                              │   Run test      │                                         │
│                              │   (must PASS)   │                                         │
│                              └────────┬────────┘                                         │
│                                       │                                                  │
│                                       ▼                                                  │
│                              ┌─────────────────┐                                         │
│                              │                 │                                         │
│                              │  3. REFACTOR    │                                         │
│                              │   Clean up      │                                         │
│                              │   (tests stay   │                                         │
│                              │    green)       │                                         │
│                              │                 │                                         │
│                              └────────┬────────┘                                         │
│                                       │                                                  │
│                                       ▼                                                  │
│                              ┌─────────────────┐                                         │
│                              │  More behaviors │──────┐                                  │
│                              │  to implement?  │      │ Yes                              │
│                              └────────┬────────┘      │                                  │
│                                       │ No            │                                  │
│                                       ▼               │                                  │
│                              ┌─────────────────┐      │                                  │
│                              │     DONE        │◄─────┘                                  │
│                              └─────────────────┘      (loop back to RED)                 │
│                                                                                          │
└─────────────────────────────────────────────────────────────────────────────────────────┘
```

---

## Task Type Flows

### Feature Implementation

```
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                              FEATURE IMPLEMENTATION                                      │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                          │
│   1. Break feature into behaviors                                                        │
│                    │                                                                     │
│                    ▼                                                                     │
│   2. For each behavior:                                                                  │
│      ┌─────────────────────────────────────────────────────────────────┐                │
│      │  Write test → Run (FAIL) → Write code → Run (PASS) → Refactor  │                │
│      └─────────────────────────────────────────────────────────────────┘                │
│                    │                                                                     │
│                    ▼                                                                     │
│   3. All behaviors implemented                                                           │
│                    │                                                                     │
│                    ▼                                                                     │
│   4. Proceed to validation                                                               │
│                                                                                          │
└─────────────────────────────────────────────────────────────────────────────────────────┘
```

### Bug Fix

```
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                                    BUG FIX                                               │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                          │
│   1. Understand the bug (symptoms, steps)                                                │
│                    │                                                                     │
│                    ▼                                                                     │
│   2. Write reproduction test                                                             │
│      ┌─────────────────────────────────────────────────────────────────┐                │
│      │  Test exercises buggy code path                                 │                │
│      │  Assert EXPECTED (correct) behavior                             │                │
│      │  Test must FAIL (proving bug exists)                            │                │
│      └─────────────────────────────────────────────────────────────────┘                │
│                    │                                                                     │
│                    ▼                                                                     │
│   3. Fix the root cause (minimal change)                                                 │
│                    │                                                                     │
│                    ▼                                                                     │
│   4. Run reproduction test (must PASS)                                                   │
│                    │                                                                     │
│                    ▼                                                                     │
│   5. Run all tests (no regressions)                                                      │
│                    │                                                                     │
│                    ▼                                                                     │
│   6. Proceed to validation                                                               │
│                                                                                          │
└─────────────────────────────────────────────────────────────────────────────────────────┘
```

### Refactoring

```
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                                   REFACTORING                                            │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                          │
│   1. Verify tests exist for code being changed                                           │
│      (if not, write them FIRST)                                                          │
│                    │                                                                     │
│                    ▼                                                                     │
│   2. Run tests (establish PASSING baseline)                                              │
│                    │                                                                     │
│                    ▼                                                                     │
│   3. Make ONE small refactoring change                                                   │
│                    │                                                                     │
│                    ▼                                                                     │
│   4. Run tests (must still PASS)                                                         │
│                    │                                                                     │
│                    ├──────────────────┐                                                  │
│                    │                  │ More changes?                                    │
│                    ▼                  │                                                  │
│   5. Done ◄───────────────────────────┘ (loop back to step 3)                           │
│                                                                                          │
│   Golden Rule: Behavior UNCHANGED, tests PASS before and after                           │
│                                                                                          │
└─────────────────────────────────────────────────────────────────────────────────────────┘
```

---

## Parallel Execution Patterns

```
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                           PARALLEL EXECUTION PATTERNS                                    │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                          │
│  PHASE 1 (Exploration):                                                                  │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐                                 │
│  │ Explore  │  │ Explore  │  │   Bash   │  │ Explore  │   ← Run in parallel             │
│  │  files   │  │ patterns │  │git history│  │  tests   │                                 │
│  └────┬─────┘  └────┬─────┘  └────┬─────┘  └────┬─────┘                                 │
│       └─────────────┴─────────────┴─────────────┘                                        │
│                          │                                                               │
│                          ▼                                                               │
│                    Consolidate                                                           │
│                                                                                          │
│  PHASE 4 (Testing):                                                                      │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐                                 │
│  │  Unit    │  │  Build   │  │Edge cases│  │   E2E    │   ← Run in parallel             │
│  │  tests   │  │          │  │  tests   │  │(Playwrt) │                                 │
│  └────┬─────┘  └────┬─────┘  └────┬─────┘  └────┬─────┘                                 │
│       └─────────────┴─────────────┴─────────────┘                                        │
│                          │                                                               │
│                          ▼                                                               │
│                  All must pass                                                           │
│                                                                                          │
│  PHASE 5 (Validation):                                                                   │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐                                 │
│  │  Linter  │  │  Build   │  │  Code    │  │ Security │   ← Run in parallel             │
│  │          │  │          │  │  Review  │  │  Review  │                                 │
│  └────┬─────┘  └────┬─────┘  └────┬─────┘  └────┬─────┘                                 │
│       └─────────────┴─────────────┴─────────────┘                                        │
│                          │                                                               │
│                          ▼                                                               │
│                  All must pass                                                           │
│                                                                                          │
│  SEQUENTIAL (cannot parallelize):                                                        │
│  ┌──────────┐     ┌──────────┐     ┌──────────┐                                         │
│  │debugging │ ──▶ │refactoring│ ──▶ │git-commits│  ← Must run in order                  │
│  └──────────┘     └──────────┘     └──────────┘                                         │
│                                                                                          │
└─────────────────────────────────────────────────────────────────────────────────────────┘
```

---

## Blocking Gates

```
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                               BLOCKING GATES                                             │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                          │
│   Gate 1: USER APPROVAL (after Phase 1)                                                  │
│   ├── Plan must be reviewed and approved                                                 │
│   └── If rejected → revise plan                                                          │
│                                                                                          │
│   Gate 2: TESTS PASS (after Phase 4)                                                     │
│   ├── All unit tests must pass                                                           │
│   ├── All integration tests must pass                                                    │
│   ├── E2E tests must pass (if UI)                                                        │
│   ├── Build must succeed                                                                 │
│   └── If any fail → fix and retry                                                        │
│                                                                                          │
│   Gate 3: VALIDATION (after Phase 5)                                                     │
│   ├── Linter must pass                                                                   │
│   ├── Code review must pass                                                              │
│   ├── Security review must pass                                                          │
│   └── If any fail → fix and retry                                                        │
│                                                                                          │
│   ⛔ WORKFLOW STOPS at each gate until all requirements are met                          │
│                                                                                          │
└─────────────────────────────────────────────────────────────────────────────────────────┘
```

---

## Quick Reference

| Phase | Skills Used | Parallel? | Gate |
|-------|-------------|-----------|------|
| 1. Plan | para, architect | Yes (exploration) | User approval |
| 2. Branch | - | No | - |
| 3. Execute | developer, debugging | TDD cycle | - |
| 4. Testing | testing, Playwright | Yes | Tests pass |
| 5. Validation | code-reviewer, security-reviewer | Yes | All pass |
| 6. Commit | git-commits | No | - |
| 7. PR | - | No | - |
| 8. Monitor | para, documentation | Yes (docs) | - |

---

## Key Principles

| Concept | Description |
|---------|-------------|
| **Workflow** | Pure orchestrator - coordinates skills, doesn't implement |
| **Developer** | All implementation via TDD (Red-Green-Refactor) |
| **Gates** | Blocking checkpoints - must pass before proceeding |
| **Parallel** | Independent tasks run simultaneously |
| **Sequential** | debugging → refactoring → git-commits must run in order |
